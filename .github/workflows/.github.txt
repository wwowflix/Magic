# tests/test_error_handler.py

import sys
import os
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))

from tools.remediator import apply_remediation

def test_file_not_found():
    error_output = "FileNotFoundError: [Errno 2] No such file or directory: 'missing.txt'"
    assert apply_remediation("dummy.py", error_output) is True

def test_unicode_error():
    error_output = "UnicodeDecodeError: 'utf-8' codec can't decode byte"
    assert apply_remediation("dummy.py", error_output) is True

def test_import_error():
    error_output = "ImportError: No module named 'fake_module'"
    assert apply_remediation("dummy.py", error_output) is True

def test_no_remediation():
    error_output = "RandomError: Something unknown"
    assert apply_remediation("dummy.py", error_output) is False
